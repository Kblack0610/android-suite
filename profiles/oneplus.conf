# OnePlus Profile
# Settings optimized for OnePlus/OPPO/Realme devices (OxygenOS/ColorOS)

# =============================================================================
# Profile Metadata
# =============================================================================
PROFILE_NAME="oneplus"
PROFILE_DESCRIPTION="Optimized for OnePlus (OxygenOS/ColorOS)"

# =============================================================================
# Inherit defaults then override
# =============================================================================
# Animation Settings - OxygenOS is smooth, 0.5x works well
ANIMATION_SCALE=0.5

# Display Settings
DARK_MODE=1
SCREEN_TIMEOUT=120000

# Power Settings
AGGRESSIVE_DOZE=0
BATTERY_SAVER_LEVEL=20

# Developer Settings
STAY_AWAKE_CHARGING=1

# Debloat - OnePlus has moderate bloat
DEBLOAT_GOOGLE=0

# =============================================================================
# Custom Settings for OnePlus
# =============================================================================
apply_custom_settings() {
    log_info "Applying OnePlus-specific settings..."

    # Enable DC dimming if available (reduces PWM flicker at low brightness)
    if ! is_dry_run; then
        setting_put system dc_dimming 1 2>/dev/null || true
        log_info "Enabled DC dimming (if supported)"
    else
        log_info "[DRY-RUN] Would enable DC dimming"
    fi

    # Disable app cloner suggestions
    if ! is_dry_run; then
        setting_put secure parallel_app_suggestion 0 2>/dev/null || true
        log_info "Disabled app cloner suggestions"
    else
        log_info "[DRY-RUN] Would disable app cloner suggestions"
    fi

    # Enable high performance mode (useful for gaming)
    # This is opt-in since it affects battery
    log_info "High Performance Mode available in:"
    log_info "  Settings > Battery > Performance mode"

    # Disable ColorOS/OxygenOS data collection
    if ! is_dry_run; then
        setting_put secure user_experience_program_oppo 0 2>/dev/null || true
        log_info "Disabled OPPO experience program"
    else
        log_info "[DRY-RUN] Would disable OPPO experience program"
    fi

    # OnePlus specific: Alert slider reminder
    log_info ""
    log_info "OnePlus Alert Slider positions:"
    log_info "  Top: Silent (no vibration)"
    log_info "  Middle: Vibrate only"
    log_info "  Bottom: Ring"
}
